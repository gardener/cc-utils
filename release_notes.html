

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Release Notes Process &mdash; cc-utils  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="version Trait" href="traits/version.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            cc-utils
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="github_actions.html">GitHub-Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Pipeline Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline_job.html">Pipeline Job</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline_step.html">Pipeline Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="traits.html">Pipeline Definition Traits</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes Process</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cc-utils</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Release Notes Process</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/release_notes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="release-notes-process">
<h1>Release Notes Process<a class="headerlink" href="#release-notes-process" title="Link to this heading"></a></h1>
<p>In order to support the developers when creating a new release of a
component, a new process is established to gather all release-relevant
information since the last release to build the release notes text.</p>
<section id="format">
<h2>Format<a class="headerlink" href="#format" title="Link to this heading"></a></h2>
<p>The release-relevant information has to be flagged as such, thus we
introduce the following format, which is based on the format that
<a class="reference external" href="https://raw.githubusercontent.com/kubernetes/kubernetes/master/.github/PULL_REQUEST_TEMPLATE.md">kubernetes</a>
uses for building the release notes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```&lt;category&gt; &lt;target group&gt;

&lt;your release note&gt;

```
</pre></div>
</div>
<p>Possible values:</p>
<blockquote>
<div><ul class="simple">
<li><p>category: breaking|feature|bugfix|doc|other</p></li>
<li><p>target_group: user|operator|developer|dependency</p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```improvement user

This is my first release note

```
</pre></div>
</div>
<p>If no release note is required, just write <code class="docutils literal notranslate"><span class="pre">NONE</span></code> within the block or delete the block altogether.</p>
<section id="category-title-mapping">
<h3>Category - Title Mapping<a class="headerlink" href="#category-title-mapping" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>category</p></th>
<th class="head"><p>release note section title</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>improvement</p></td>
<td><p>Improvement</p></td>
</tr>
<tr class="row-odd"><td><p>noteworthy</p></td>
<td><p>Most notable changes</p></td>
</tr>
<tr class="row-even"><td><p>action</p></td>
<td><p>Action Required</p></td>
</tr>
</tbody>
</table>
</section>
<section id="how-to-contribute-to-release-notes">
<h3>How to Contribute to Release Notes<a class="headerlink" href="#how-to-contribute-to-release-notes" title="Link to this heading"></a></h3>
<p>Now that we know the format for tagging release-relevant information,
where do we put it so that it can be fetched automatically?</p>
<p>There are two options:</p>
<ol class="arabic simple">
<li><p>As description in <em>pull requests</em> (preferred)</p></li>
<li><p>As <em>commit message</em></p></li>
</ol>
<section id="pull-requests">
<h4>Pull Requests<a class="headerlink" href="#pull-requests" title="Link to this heading"></a></h4>
<p>The preferred option is to create a pull request that contains your
proposed changes (to the code-basis) and in the description a code-block
like above.</p>
<p><strong>Example:</strong> Here is an example pull request that contains release
notes: <a class="reference external" href="https://github.com/gardener/dashboard/pull/147">https://github.com/gardener/dashboard/pull/147</a> The release notes
appeared in the release
<a class="reference external" href="https://github.com/gardener/dashboard/releases/tag/1.18.0">https://github.com/gardener/dashboard/releases/tag/1.18.0</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pull requests that are still open and not merged are not considered for the release notes.</p>
</div>
<p>Even if the pull request is already merged you can still edit the
description in case you need to make changes to your release note and it
will be used once the release is created.</p>
<p>To make it easier for the community to contribute to the release notes
you can add a pull request template to your repository, e.g. like the
<a class="reference external" href="https://raw.githubusercontent.com/gardener/dashboard/master/.github/pull_request_template.md">template</a>
used for the gardener dashboard.</p>
<p>See
<a class="reference external" href="https://help.github.com/articles/creating-a-pull-request-template-for-your-repository/">https://help.github.com/articles/creating-a-pull-request-template-for-your-repository/</a>
on how to create pull request template for your repository.</p>
</section>
<section id="commits">
<h4>Commits<a class="headerlink" href="#commits" title="Link to this heading"></a></h4>
<p>A second option on how to contribute to the release notes is to add a
code-block like above to your commit message. This option is not
preferred as once you have pushed your changes to the remote repository
it cannot easily be changed anymore so you have to be very cautious.</p>
</section>
</section>
<section id="draft-release">
<h3>Draft Release<a class="headerlink" href="#draft-release" title="Link to this heading"></a></h3>
<p>In order to see how the release notes would look like, draft releases
are created/updated - usually on every head update.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only users with write access to the repository can view drafts of releases</p>
</div>
<p>To enable draft releases, add the
<a class="reference external" href="https://github.com/gardener/dashboard/blob/51fc9792af32da137d3c1b3e69635b2093dbbfd7/.ci/pipeline_definitions#L28">draft_release</a>
trait to your job that has (or inherits) the <em>version</em> trait.
Usually you would add it to the <em>head-update</em> job.</p>
</section>
<section id="transporting-release-notes">
<h3>Transporting Release Notes<a class="headerlink" href="#transporting-release-notes" title="Link to this heading"></a></h3>
<p>A component can depend upon other components. When releasing a
component, ideally the release notes of the source repository (for which
the release was created) should be included in the target component.
This can be achieved by reusing the pull request mechanism as explained
above:</p>
<ol class="arabic simple">
<li><p>On release of a source component, all pull requests (and commits are fetched since the last release)</p></li>
<li><p>The release notes are extracted from the pull requests and commits</p></li>
<li><p>A new pull request is created on the target component which contains the release notes within the description as code-blocks</p></li>
<li><p>On release of the target component the release notes text is generated</p></li>
<li><p>It will start over again for the next component with step 1</p></li>
</ol>
</section>
<section id="posting-release-notes-to-slack">
<h3>Posting Release Notes To Slack<a class="headerlink" href="#posting-release-notes-to-slack" title="Link to this heading"></a></h3>
<p>Specify a target slack-channel for input <code class="code docutils literal notranslate"><span class="pre">slack-channel-id</span></code> for <code class="code docutils literal notranslate"><span class="pre">release.yaml</span></code> workflow to
enable release-notes to be conveyed to configured slack-channel.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># release workflow local to repository to be released</span>
<span class="nt">jobs</span><span class="p">:</span>
<span class="w"> </span><span class="nt">release-to-github-and-bump</span><span class="p">:</span>
<span class="w">   </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gardener/cc-utils/.github/workflows/release.yaml@master</span>
<span class="w">   </span><span class="nt">with</span><span class="p">:</span>
<span class="w">     </span><span class="nt">slack-channel-id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">C0123ABCDEFG</span><span class="w"> </span><span class="c1"># replace this</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="traits/version.html" class="btn btn-neutral float-left" title="version Trait" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2020, SAP SE or an SAP affiliate company..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>