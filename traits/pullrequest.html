<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pull-request Trait &mdash; cc-utils  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="release Trait" href="release.html" />
    <link rel="prev" title="publish Trait" href="publish.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> cc-utils
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pipeline.html">Pipeline Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline_job.html">Pipeline Job</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline_step.html">Pipeline Steps</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../traits.html">Pipeline Definition Traits</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="component_descriptor.html"><em>component_descriptor</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="cronjob.html"><em>cronjob</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="draft_release.html"><em>draft_release</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_scan.html"><em>image_scan</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="notifications.html"><em>notifications</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="options.html"><em>options</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="publish.html"><em>publish</em> Trait</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><em>pull-request</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="release.html"><em>release</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="scan_sources.html"><em>scan_sources</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="scheduling.html"><em>scheduling</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="slack.html"><em>slack</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_component_deps.html"><em>update_component_deps</em> Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="version.html"><em>version</em> Trait</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes Process</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cc-utils</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../traits.html">Pipeline Definition Traits</a></li>
      <li class="breadcrumb-item active"><em>pull-request</em> Trait</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/traits/pullrequest.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="pull-request-trait">
<h1><em>pull-request</em> Trait<a class="headerlink" href="#pull-request-trait" title="Permalink to this heading"></a></h1>
<div class="section" id="trait-pullrequest">
<span id="trait-pullrequest"></span><h2>Attributes<a class="headerlink" href="#trait-pullrequest" title="Permalink to this heading"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>name</p></th>
<th class="head"><p>required?</p></th>
<th class="head"><p>default</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>policies</p></td>
<td><p>no</p></td>
<td><p><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">replacement-label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">needs/ok-to-test</span>
<span class="nt">require-label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reviewed/ok-to-test</span>
</pre></div>
</div>
</p></td>
<td><p>PullRequestPolicies</p></td>
<td><p>configures the policies to apply to pull-requests</p></td>
</tr>
<tr class="row-odd"><td><p>disable-status-report</p></td>
<td><p>no</p></td>
<td><p><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[]</span>
</pre></div>
</div>
</p></td>
<td><p>list</p></td>
<td><p>a list of names of steps which shall not report their status to the pull request.</p></td>
</tr>
</tbody>
</table>
<h2>policies <em>(PullRequestPolicies)</em> Attributes<a class="headerlink" href="#trait-pullrequest" title="Permalink to this heading"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>name</p></th>
<th class="head"><p>required?</p></th>
<th class="head"><p>default</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>require-label</p></td>
<td><p>no</p></td>
<td><p>reviewed/ok-to-test</p></td>
<td><p>str</p></td>
<td><p>the label required for PR build to start</p></td>
</tr>
<tr class="row-odd"><td><p>replacement-label</p></td>
<td><p>no</p></td>
<td><p>needs/ok-to-test</p></td>
<td><p>str</p></td>
<td><p>the label set after require-label was removed by PR build</p></td>
</tr>
</tbody>
</table>
<h2>Dependencies<a class="headerlink" href="#trait-pullrequest" title="Permalink to this heading"></a></h2>
<p>This trait has <em>no</em> dependencies</p>
</div>
<p>Turns the declaring job into a pull-request job. This means it will be triggered upon the
creation or updating of GitHub pull-requests for the main repository (and only those) and
post executions results to the corresponding PRs.</p>
<p>Information about the pull-request being processed will be exposed to jobs at runtime:
<code class="code docutils literal notranslate"><span class="pre">PULLREQUEST_URL</span></code> contains the full pull-request URL whereas <code class="code docutils literal notranslate"><span class="pre">PULLREQUEST_ID</span></code> contains the
pull request number.</p>
<div class="section" id="policies-pull-request-label-handling">
<h2>Policies / Pull-Request Label Handling<a class="headerlink" href="#policies-pull-request-label-handling" title="Permalink to this heading"></a></h2>
<p>For security reasons, Pull-Requests are by default only reacted upon if a label is added to them.
To mitigate the risk of subsequent updates with malicious changes, said labels are removed at the
beginning of PR build job executions and have thus to be added again if a repeated PR build job
execution is required.</p>
<p>To make this more obvious, a “replacement label” is added after label removal.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">traits</span><span class="p">:</span>
<span class="w">  </span><span class="nt">pull-request</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">~</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="publish.html" class="btn btn-neutral float-left" title="publish Trait" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="release.html" class="btn btn-neutral float-right" title="release Trait" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2020, SAP SE or an SAP affiliate company..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>